<h2 class="text-center">Register</h2>

<form [formGroup]="form">
    <div class="form-group">
        <label for="username">Username</label>
        <input id="username" formControlName="username" type="text" class="form-control" placeholder="">
        <div *ngIf="Username.touched && Username.invalid" class="text-danger">
            <span *ngIf="Username.errors?.required">This field is required</span>
            <span *ngIf="Username.errors?.maxlength">This field can be up to {{ Username.errors.maxlength.requiredLength }} characters long</span>
            <span *ngIf="Username.errors?.cannotContainSpace">Spaces are not allowed</span>
        </div>
    </div>
    <div class="form-group">
        <label for="displayName">Display name</label>
        <input id="displayName" formControlName="displayName" type="text" class="form-control" placeholder="">
        <div *ngIf="DisplayName.touched && DisplayName.invalid" class="text-danger">
            <span *ngIf="DisplayName.errors?.required">This field is required</span>
            <span *ngIf="DisplayName.errors?.maxlength">This field can be up to {{ DisplayName.errors.maxlength.requiredLength }} characters long</span>
        </div>
    </div>
    <div formGroupName="passwords">
        <div class="form-group">
            <label for="password">Password</label>
            <input id="password" formControlName="password" type="password" class="form-control" placeholder="">
            <div *ngIf="Password.touched && Password.invalid" class="text-danger">
                <span *ngIf="Password.errors?.required">This field is required</span>
                <span *ngIf="Password.errors?.minlength">This field must be at least 10 characters long</span>
                <span *ngIf="Password.errors?.maxlength">This field can be up to {{ Password.errors.maxlength.requiredLength }} characters long</span>
                <span *ngIf="Password.errors?.cannotContainSpace">Spaces are not allowed</span>
            </div>
        </div>
        <div class="form-group">
            <label for="confirmPassword">Confirm password</label>
            <input id="confirmPassword" formControlName="confirmPassword" type="password" class="form-control" placeholder="">
            <div *ngIf="ConfirmPassword.touched && (ConfirmPassword.invalid || Passwords.errors?.cannotBeDifferent)" class="text-danger">
                <span *ngIf="ConfirmPassword.errors?.required">This field is required</span>
                <span *ngIf="!ConfirmPassword.errors?.required && Passwords.errors?.cannotBeDifferent">Passwords do not match.</span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input id="email" formControlName="email" type="text" class="form-control" placeholder="">
        <div *ngIf="Email.touched && Email.invalid" class="text-danger">
            <span *ngIf="Email.errors?.required">This field is required</span>
            <span *ngIf="Email.errors?.maxlength">This field can be up to {{ Email.errors.maxlength.requiredLength }} characters long</span>
            <span *ngIf="!Email.errors?.required && !Email.errors?.isEmail">This field is invalid</span>
        </div>
    </div>
    <br />
    <div class="form-group">
        <input type="button" id="register" (click)="register()" [disabled]="!form.valid" class="btn btn-login btn-info btn-block" value="Register" />
    </div>
    <br />
    <span class="text-warning">{{ form.value | json }} {{ form.valid }}</span>
</form>