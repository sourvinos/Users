<h2>Change password</h2>

<form [formGroup]="form">
    <label for="currentPassword">Current password</label>
    <input id="currentPassword" formControlName="currentPassword" type="password" class="form-control" placeholder="">
    <div *ngIf="CurrentPassword.touched && CurrentPassword.invalid" class="text-danger">
        <span *ngIf="CurrentPassword.errors?.required">This field is required</span>
    </div>
    <div formGroupName="passwords">
        <div class="form-group">
            <label for="password">New password</label>
            <input id="password" formControlName="password" type="password" class="form-control" placeholder="">
            <div *ngIf="Password.touched && Password.invalid" class="text-danger">
                <span *ngIf="Password.errors?.required">This field is required</span>
            </div>
        </div>
        <div class="form-group">
            <label for="confirmPassword">Confirm password</label>
            <input id="confirmPassword" formControlName="confirmPassword" type="password" class="form-control" placeholder="">
            <div *ngIf="ConfirmPassword.touched && (ConfirmPassword.invalid || Passwords.errors?.cannotBeDifferent)" class="text-danger">
                <span *ngIf="ConfirmPassword.errors?.required">This field is required</span>
                <span *ngIf="!ConfirmPassword.errors?.required && Passwords.errors?.cannotBeDifferent">Passwords do not match.</span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <input type="button" id="register" (click)="onSubmit()" [disabled]="!form.valid" class="btn btn-login btn-info btn-block" value="Submit" />
    </div>
    <br />
    <span class="text-warning">{{ form.value | json }} {{ form.valid }}</span>
</form>